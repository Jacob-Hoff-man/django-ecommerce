{"ast":null,"code":"var _jsxFileName = \"/Users/jacob/Web/django-ecommerce/frontend/src/views/OrderView.js\",\n    _s = $RefreshSig$();\n\nimport React, { useState, useEffect } from 'react';\nimport { Link, useParams } from 'react-router-dom';\nimport { Row, Col, ListGroup, Image, Card } from 'react-bootstrap'; // react redux import for global state handling+API calls\n\nimport { useDispatch, useSelector } from 'react-redux';\nimport { getOrderDetails } from '../reduxState/actions/orderActions'; // components\n\nimport Message from '../components/Message';\nimport Loader from '../components/Loader';\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\n\nfunction OrderView() {\n  _s();\n\n  const {\n    id\n  } = useParams();\n  /* get orderDetails from global redux state */\n\n  const orderDetails = useSelector(state => state.orderDetails);\n  const {\n    order,\n    error,\n    loading\n  } = orderDetails;\n  const dispatch = useDispatch();\n\n  if (!loading && !error) {\n    order.itemsPrice = order.orderItems.reduce((accumulator, item) => accumulator + item.price * item.quantity, 0).toFixed(2);\n  }\n\n  useEffect(() => {\n    if (!order || order._id !== Number(id)) {\n      dispatch(getOrderDetails(id));\n    }\n  }, [order, id]);\n  return loading ? /*#__PURE__*/_jsxDEV(Loader, {}, void 0, false, {\n    fileName: _jsxFileName,\n    lineNumber: 35,\n    columnNumber: 9\n  }, this) : error ? /*#__PURE__*/_jsxDEV(Message, {\n    variant: \"warning\",\n    children: error\n  }, void 0, false, {\n    fileName: _jsxFileName,\n    lineNumber: 37,\n    columnNumber: 13\n  }, this) : /*#__PURE__*/_jsxDEV(\"div\", {\n    children: [/*#__PURE__*/_jsxDEV(\"h1\", {\n      children: [\"Order #\", order._id, \" has been confirmed!\"]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 40,\n      columnNumber: 25\n    }, this), /*#__PURE__*/_jsxDEV(Row, {\n      children: [/*#__PURE__*/_jsxDEV(Col, {\n        md: 8,\n        children: /*#__PURE__*/_jsxDEV(ListGroup, {\n          variant: \"flush\",\n          children: [/*#__PURE__*/_jsxDEV(ListGroup.Item, {\n            children: [/*#__PURE__*/_jsxDEV(\"h2\", {\n              children: \"Shipping\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 45,\n              columnNumber: 41\n            }, this), /*#__PURE__*/_jsxDEV(\"p\", {\n              children: [/*#__PURE__*/_jsxDEV(\"u\", {\n                children: \"Name:\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 47,\n                columnNumber: 45\n              }, this), \" \", order.user.name]\n            }, void 0, true, {\n              fileName: _jsxFileName,\n              lineNumber: 46,\n              columnNumber: 41\n            }, this), /*#__PURE__*/_jsxDEV(\"p\", {\n              children: [/*#__PURE__*/_jsxDEV(\"u\", {\n                children: \"Email:\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 50,\n                columnNumber: 45\n              }, this), \" \", /*#__PURE__*/_jsxDEV(\"a\", {\n                style: {\n                  textDecoration: 'none'\n                },\n                href: `mailto:{order.user.email}`,\n                children: order.user.email\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 50,\n                columnNumber: 59\n              }, this)]\n            }, void 0, true, {\n              fileName: _jsxFileName,\n              lineNumber: 49,\n              columnNumber: 41\n            }, this), /*#__PURE__*/_jsxDEV(\"p\", {\n              children: [/*#__PURE__*/_jsxDEV(\"u\", {\n                children: \"Shipping Address:\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 53,\n                columnNumber: 45\n              }, this), ' ', order.shippingAddress.address, \", \", order.shippingAddress.city, \", \", order.shippingAddress.zipCode, \", \", order.shippingAddress.country]\n            }, void 0, true, {\n              fileName: _jsxFileName,\n              lineNumber: 52,\n              columnNumber: 41\n            }, this)]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 44,\n            columnNumber: 37\n          }, this), /*#__PURE__*/_jsxDEV(ListGroup.Item, {\n            children: [/*#__PURE__*/_jsxDEV(\"h2\", {\n              children: \"Payment\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 60,\n              columnNumber: 41\n            }, this), /*#__PURE__*/_jsxDEV(\"p\", {\n              children: [/*#__PURE__*/_jsxDEV(\"u\", {\n                children: \"Payment Method:\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 62,\n                columnNumber: 45\n              }, this), ' ', order.paymentMethod]\n            }, void 0, true, {\n              fileName: _jsxFileName,\n              lineNumber: 61,\n              columnNumber: 41\n            }, this), order.isPaid ? /*#__PURE__*/_jsxDEV(Message, {\n              variant: \"success\",\n              children: [\"Paid on \", order.paidAt, \".\"]\n            }, void 0, true, {\n              fileName: _jsxFileName,\n              lineNumber: 66,\n              columnNumber: 45\n            }, this) : /*#__PURE__*/_jsxDEV(Message, {\n              variant: \"warning\",\n              children: \"Order has not been paid for.\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 68,\n              columnNumber: 45\n            }, this)]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 59,\n            columnNumber: 37\n          }, this), /*#__PURE__*/_jsxDEV(ListGroup.Item, {\n            children: [/*#__PURE__*/_jsxDEV(\"h2\", {\n              children: \"Ordered Items\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 73,\n              columnNumber: 41\n            }, this), order.orderItems.length === 0 ? /*#__PURE__*/_jsxDEV(Message, {\n              variant: \"warning\",\n              children: \"Order is empty.\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 76,\n              columnNumber: 45\n            }, this) : /*#__PURE__*/_jsxDEV(ListGroup, {\n              variant: \"flush\",\n              children: order.orderItems.map((item, index) => /*#__PURE__*/_jsxDEV(ListGroup.Item, {\n                children: /*#__PURE__*/_jsxDEV(Row, {\n                  children: [/*#__PURE__*/_jsxDEV(Col, {\n                    children: /*#__PURE__*/_jsxDEV(Image, {\n                      src: item.image,\n                      alt: item.name,\n                      fluid: true,\n                      rounded: true\n                    }, void 0, false, {\n                      fileName: _jsxFileName,\n                      lineNumber: 86,\n                      columnNumber: 69\n                    }, this)\n                  }, void 0, false, {\n                    fileName: _jsxFileName,\n                    lineNumber: 85,\n                    columnNumber: 65\n                  }, this), /*#__PURE__*/_jsxDEV(Col, {\n                    children: /*#__PURE__*/_jsxDEV(Link, {\n                      to: `/product/${item.product}`,\n                      children: item.name\n                    }, void 0, false, {\n                      fileName: _jsxFileName,\n                      lineNumber: 89,\n                      columnNumber: 69\n                    }, this)\n                  }, void 0, false, {\n                    fileName: _jsxFileName,\n                    lineNumber: 88,\n                    columnNumber: 65\n                  }, this), /*#__PURE__*/_jsxDEV(Col, {\n                    md: 4,\n                    children: [item.quantity, \" x $\", item.price]\n                  }, void 0, true, {\n                    fileName: _jsxFileName,\n                    lineNumber: 91,\n                    columnNumber: 65\n                  }, this), /*#__PURE__*/_jsxDEV(Col, {\n                    children: [\"$\", (item.quantity * item.price).toFixed(2)]\n                  }, void 0, true, {\n                    fileName: _jsxFileName,\n                    lineNumber: 94,\n                    columnNumber: 65\n                  }, this)]\n                }, void 0, true, {\n                  fileName: _jsxFileName,\n                  lineNumber: 84,\n                  columnNumber: 61\n                }, this)\n              }, index, false, {\n                fileName: _jsxFileName,\n                lineNumber: 83,\n                columnNumber: 57\n              }, this))\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 80,\n              columnNumber: 45\n            }, this)]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 72,\n            columnNumber: 37\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 43,\n          columnNumber: 33\n        }, this)\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 42,\n        columnNumber: 29\n      }, this), /*#__PURE__*/_jsxDEV(Col, {\n        md: 4,\n        children: /*#__PURE__*/_jsxDEV(Card, {\n          children: /*#__PURE__*/_jsxDEV(ListGroup, {\n            variant: \"flush\",\n            children: [/*#__PURE__*/_jsxDEV(ListGroup.Item, {\n              children: /*#__PURE__*/_jsxDEV(\"h2\", {\n                children: \"Order Summary\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 111,\n                columnNumber: 45\n              }, this)\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 110,\n              columnNumber: 41\n            }, this), /*#__PURE__*/_jsxDEV(ListGroup.Item, {\n              children: /*#__PURE__*/_jsxDEV(Row, {\n                children: [/*#__PURE__*/_jsxDEV(Col, {\n                  children: \"Item:\"\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 116,\n                  columnNumber: 49\n                }, this), /*#__PURE__*/_jsxDEV(Col, {\n                  children: [\"$\", order.itemsPrice]\n                }, void 0, true, {\n                  fileName: _jsxFileName,\n                  lineNumber: 117,\n                  columnNumber: 49\n                }, this)]\n              }, void 0, true, {\n                fileName: _jsxFileName,\n                lineNumber: 115,\n                columnNumber: 45\n              }, this)\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 114,\n              columnNumber: 41\n            }, this), /*#__PURE__*/_jsxDEV(ListGroup.Item, {\n              children: /*#__PURE__*/_jsxDEV(Row, {\n                children: [/*#__PURE__*/_jsxDEV(Col, {\n                  children: \"Shipping:\"\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 123,\n                  columnNumber: 49\n                }, this), /*#__PURE__*/_jsxDEV(Col, {\n                  children: [\"$\", order.shippingPrice]\n                }, void 0, true, {\n                  fileName: _jsxFileName,\n                  lineNumber: 124,\n                  columnNumber: 49\n                }, this)]\n              }, void 0, true, {\n                fileName: _jsxFileName,\n                lineNumber: 122,\n                columnNumber: 45\n              }, this)\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 121,\n              columnNumber: 41\n            }, this), /*#__PURE__*/_jsxDEV(ListGroup.Item, {\n              children: /*#__PURE__*/_jsxDEV(Row, {\n                children: [/*#__PURE__*/_jsxDEV(Col, {\n                  children: \"Tax:\"\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 130,\n                  columnNumber: 49\n                }, this), /*#__PURE__*/_jsxDEV(Col, {\n                  children: [\"$\", order.taxPrice]\n                }, void 0, true, {\n                  fileName: _jsxFileName,\n                  lineNumber: 131,\n                  columnNumber: 49\n                }, this)]\n              }, void 0, true, {\n                fileName: _jsxFileName,\n                lineNumber: 129,\n                columnNumber: 45\n              }, this)\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 128,\n              columnNumber: 41\n            }, this), /*#__PURE__*/_jsxDEV(ListGroup.Item, {\n              children: /*#__PURE__*/_jsxDEV(Row, {\n                children: [/*#__PURE__*/_jsxDEV(Col, {\n                  children: \"Total Price:\"\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 137,\n                  columnNumber: 49\n                }, this), /*#__PURE__*/_jsxDEV(Col, {\n                  children: [\"$\", order.totalPrice]\n                }, void 0, true, {\n                  fileName: _jsxFileName,\n                  lineNumber: 138,\n                  columnNumber: 49\n                }, this)]\n              }, void 0, true, {\n                fileName: _jsxFileName,\n                lineNumber: 136,\n                columnNumber: 45\n              }, this)\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 135,\n              columnNumber: 41\n            }, this)]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 109,\n            columnNumber: 37\n          }, this)\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 108,\n          columnNumber: 33\n        }, this)\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 107,\n        columnNumber: 29\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 41,\n      columnNumber: 25\n    }, this)]\n  }, void 0, true, {\n    fileName: _jsxFileName,\n    lineNumber: 39,\n    columnNumber: 21\n  }, this);\n}\n\n_s(OrderView, \"GlNV+xbVNWnwyW6ndmygwcJBAEg=\", false, function () {\n  return [useParams, useSelector, useDispatch];\n});\n\n_c = OrderView;\nexport default OrderView;\n\nvar _c;\n\n$RefreshReg$(_c, \"OrderView\");","map":{"version":3,"sources":["/Users/jacob/Web/django-ecommerce/frontend/src/views/OrderView.js"],"names":["React","useState","useEffect","Link","useParams","Row","Col","ListGroup","Image","Card","useDispatch","useSelector","getOrderDetails","Message","Loader","OrderView","id","orderDetails","state","order","error","loading","dispatch","itemsPrice","orderItems","reduce","accumulator","item","price","quantity","toFixed","_id","Number","user","name","textDecoration","email","shippingAddress","address","city","zipCode","country","paymentMethod","isPaid","paidAt","length","map","index","image","product","shippingPrice","taxPrice","totalPrice"],"mappings":"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","sourcesContent":["import React, { useState, useEffect } from 'react'\nimport { Link, useParams } from 'react-router-dom'\nimport { Row, Col, ListGroup, Image, Card } from 'react-bootstrap'\n// react redux import for global state handling+API calls\nimport { useDispatch, useSelector } from 'react-redux'\nimport { getOrderDetails } from '../reduxState/actions/orderActions'\n\n// components\nimport Message from '../components/Message'\nimport Loader from '../components/Loader'\n\nfunction OrderView() {\n    const { id } = useParams()\n    /* get orderDetails from global redux state */\n    const orderDetails = useSelector(state => state.orderDetails)\n    const { order, error, loading } = orderDetails\n\n    const dispatch = useDispatch()\n\n    if(!loading && !error) {\n        order.itemsPrice = order.orderItems.reduce((accumulator, item) => accumulator + item.price * item.quantity, 0).toFixed(2)\n\n    }\n\n\n\n    useEffect(() => {\n        if(!order || order._id !== Number(id)) {\n            dispatch(getOrderDetails(id))\n\n        }\n    }, [order, id])\n\n    return loading ? (\n        <Loader/>\n        ) : error ? (\n            <Message variant='warning'>{error}</Message>\n                ) : (\n                    <div>\n                        <h1>Order #{order._id} has been confirmed!</h1>\n                        <Row>\n                            <Col md={8}>\n                                <ListGroup variant='flush'>\n                                    <ListGroup.Item>\n                                        <h2>Shipping</h2>\n                                        <p>\n                                            <u>Name:</u> {order.user.name}\n                                        </p>\n                                        <p>\n                                            <u>Email:</u> <a style={{textDecoration: 'none'}} href={`mailto:{order.user.email}`}>{order.user.email}</a>\n                                        </p>\n                                        <p>\n                                            <u>Shipping Address:</u>{' '}\n                                            {order.shippingAddress.address}, {order.shippingAddress.city}, {order.shippingAddress.zipCode}, {order.shippingAddress.country}\n                                        </p>\n                                        \n                                    </ListGroup.Item>\n\n                                    <ListGroup.Item>\n                                        <h2>Payment</h2>\n                                        <p>\n                                            <u>Payment Method:</u>{' '}\n                                            {order.paymentMethod}\n                                        </p>\n                                        { order.isPaid ? (\n                                            <Message variant='success'>Paid on {order.paidAt}.</Message>\n                                        ) : (\n                                            <Message variant='warning'>Order has not been paid for.</Message>\n                                        )}\n                                    </ListGroup.Item>\n\n                                    <ListGroup.Item>\n                                        <h2>Ordered Items</h2>\n                                        { \n                                            order.orderItems.length === 0 ? \n                                            <Message variant='warning'>\n                                                Order is empty.\n                                            </Message>\n                                            :\n                                            <ListGroup variant='flush'>\n                                                {\n                                                    order.orderItems.map((item, index) => \n                                                        <ListGroup.Item key={index}>\n                                                            <Row>\n                                                                <Col>\n                                                                    <Image src={item.image} alt={item.name} fluid rounded/>\n                                                                </Col>\n                                                                <Col>\n                                                                    <Link to={`/product/${item.product}`}>{item.name}</Link>\n                                                                </Col>\n                                                                <Col md={4}>\n                                                                    {item.quantity} x ${item.price}  \n                                                                </Col>\n                                                                <Col>\n                                                                    ${(item.quantity * item.price).toFixed(2)}               \n                                                                </Col>\n                                                            </Row>\n                                                        </ListGroup.Item>\n                                                    )}\n                                            </ListGroup>\n                                            \n                                        }\n                                    </ListGroup.Item>\n                                </ListGroup>\n                            </Col>\n\n                            <Col md={4}>\n                                <Card>\n                                    <ListGroup variant='flush'>\n                                        <ListGroup.Item>\n                                            <h2>Order Summary</h2>\n                                        </ListGroup.Item>\n\n                                        <ListGroup.Item>\n                                            <Row>\n                                                <Col>Item:</Col>\n                                                <Col>${order.itemsPrice}</Col>\n                                            </Row>\n                                        </ListGroup.Item>\n\n                                        <ListGroup.Item>\n                                            <Row>\n                                                <Col>Shipping:</Col>\n                                                <Col>${order.shippingPrice}</Col>\n                                            </Row>\n                                        </ListGroup.Item>\n\n                                        <ListGroup.Item>\n                                            <Row>\n                                                <Col>Tax:</Col>\n                                                <Col>${order.taxPrice}</Col>\n                                            </Row>\n                                        </ListGroup.Item>\n\n                                        <ListGroup.Item>\n                                            <Row>\n                                                <Col>Total Price:</Col>\n                                                <Col>${order.totalPrice}</Col>\n                                            </Row>\n                                        </ListGroup.Item>\n\n                                    </ListGroup>\n                                </Card>\n                            </Col>\n                        </Row>\n                        \n                    </div>\n    )\n}\n\nexport default OrderView"]},"metadata":{},"sourceType":"module"}